(this["webpackJsonpjaxcore-say-basic-example"]=this["webpackJsonpjaxcore-say-basic-example"]||[]).push([[0],[,,,,,,function(e,t){e.exports={Jack:{name:"Jack",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:10,speed:180,variant:"m2"},high:{pitch:50},low:{pitch:0},slow:{speed:120},fast:{speed:250}},Pris:{name:"Pris",phoneticName:"Priss",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:47,speed:130,variant:"f5"},high:{pitch:80},low:{pitch:20},slow:{speed:100},fast:{speed:200}},Roy:{name:"Roy",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:180,variant:"m1"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Scotty:{name:"Scotty",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:200,variant:"m3"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:230}},Xenu:{name:"Xenu",phoneticName:"zee-new",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"klatt3"},high:{pitch:65},low:{pitch:0},slow:{speed:100},fast:{speed:200}},Cylon:{name:"Cylon",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"whisperf"},high:{pitch:65,speed:150},low:{pitch:0,speed:140},slow:{pitch:20,speed:100,wordgap:1},fast:{speed:200,wordgap:0}},Leon:{name:"Leon",phoneticName:"Leeon",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:40,speed:150,variant:"m7"},high:{pitch:55},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Rachel:{name:"Rachel",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f2"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Zhora:{name:"Zhora",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f4"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Sam:{name:"Sam",engine:"sam",default:{speed:64,pitch:64,throat:128,mouth:128},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Elf:{name:"Elf",engine:"sam",default:{speed:72,pitch:64,throat:110,mouth:160},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Robo:{name:"Robo",engine:"sam",default:{speed:82,pitch:60,throat:190,mouth:190},high:{pitch:40},low:{pitch:100},slow:{speed:120},fast:{speed:50}},Granny:{name:"Granny",engine:"sam",default:{speed:82,pitch:35,throat:145,mouth:145},high:{pitch:25},low:{pitch:120},slow:{speed:130},fast:{speed:40}}}},,function(e,t,a){e.exports=a(18)},,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(10),o=a.n(s),r=(a(16),a(1)),l=a(2),p=a(4),u=a(3),c=a(5),h=a(8),f=a.n(h);f.a.setWorkers({espeak:"webworkers/espeak-all-worker.js",sam:"webworkers/sam-worker.js"});var d=new f.a({language:"en",profile:"Jack"}),g=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(p.a)(this,Object(u.a)(t).call(this))).state={isSpeaking:!1},e.inputRef=i.a.createRef(),e}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h3",null,"Basic Say Example"),i.a.createElement("div",null,i.a.createElement("input",{ref:this.inputRef,size:"40",placeholder:"Type something then press Enter",defaultValue:"Hello World"}),i.a.createElement("button",{onClick:function(t){return e.sayText()}},"Say")),i.a.createElement("br",null),i.a.createElement("div",null,"Is Speaking : ",this.state.isSpeaking?"YES":"NO"))}},{key:"sayText",value:function(){var e=this,t=this.inputRef.current.value;this.setState({isSpeaking:!0},(function(){console.log("Jack: started"),d.say(t).then((function(){console.log("Jack: stopped"),e.setState({isSpeaking:!1})}))}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(2),s=a(4),o=a(3),r=a(5),p=a(7),u=a.n(p),c=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this)))._queue=[],a.speaker=e,a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"clearQueue",value:function(){this._queue=[]}},{key:"queue",value:function(e){this._queue.push(e),this._speakNext()}},{key:"_speakNext",value:function(){var e=this;if(!this.isSpeaking){var t=this._queue.shift();t?(this.isSpeaking=!0,this.speaker.getWorkerAudioData(t.text,t.options,(function(a,n){t.onStart&&t.onStart(t),t.scope.loadAudioData(a,n,(function(){t.onStop&&setTimeout((function(){t.onStop(t)}),1),e._onEnded()}))}))):this.emit("finish")}}},{key:"_onEnded",value:function(){this.isSpeaking=!1,this._speakNext()}}]),t}(u.a),h=a(6),f=a.n(h),d=function(e){function t(e){var a;for(var i in Object(n.a)(this,t),e||(e={}),(a=Object(s.a)(this,Object(o.a)(t).call(this))).lang=null,a.profiles={},a.defaultProfile=null,f.a)a.addProfile(f.a[i]);return e.profile?a.setProfile(e.profile):a.setProfile("Jack"),"espeak"===a.profile.engine&&e.language&&a.setLanguage(e.language),a.lang||a.setLanguage("en_us"),e.visualizer&&a.setVisualizer(e.visualizer),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"setVisualizer",value:function(e){this.visualizer=e}},{key:"setLanguage",value:function(e){this.lang=t.getLanguageId(e)}},{key:"processOptions",value:function(e){e||(e={});var a=e.profile?e.profile:this.defaultProfile,n=this.profiles[a].default,i=Object.assign({},n);return e.slow&&(i.speed=this.profiles[a].slow.speed),e.fast&&(i.speed=this.profiles[a].fast.speed),e.low&&(i.pitch=this.profiles[a].low.pitch),e.high&&(i.pitch=this.profiles[a].high.pitch),e.pitch&&(i.pitch=this.profiles[a].pitch.pitch),e.speed&&(i.speed=this.profiles[a].speed.speed),e.language?i.voice=t.getLanguageId(e.language):i.voice=this.lang,e.delay&&(i.delay=e.delay),i}},{key:"say",value:function(e,t){var a=this;return t=t||{},this.visualizer?new Promise((function(n){a.getWorkerAudioData(e,t,(function(e,t){a.visualizer.loadAudioData(e,t,n)}))})):new Promise((function(n){a.getWorkerAudioData(e,t,(function(e,t){t.connect(e.destination),t.onended=function(){t.connect(e.destination),e.close(),n()},t.start(0)}))}))}},{key:"getWorkerAudioData",value:function(e,a,n){e=e.toLowerCase(),a.profile||(a.profile=this.defaultProfile||"Jack");var i,s=this.profiles[a.profile].engine;if("sam"===s)i=t.workers.sam;else if("espeak"===s)if("string"===typeof t.workers.espeak)i=t.workers.espeak;else if(t.workers.espeak.length){var o=a.language;o.startsWith("en-")&&(o="en/"+l);for(var r=0;r<t.workers.espeak.length;r++)if(t.workers.espeak[r].language===o){i=t.workers.espeak[r].path;break}}if(!i)throw new Error("no worker path for this language");var p=new Worker(i);p.addEventListener("message",(function(e){if(console.log("received from worker:",e.data),e.data.rawdata){var t;if(window.AudioContext)t=new window.AudioContext;else{if(!window.webkitAudioContext)throw new Error("no AudioContext");console.log("creating webkitAudioContext"),t=new window.webkitAudioContext}if(!t)return void console.log("no audioContext 2");if(!t.createBufferSource)return void console.log("no createBufferSource");var a=t.createBufferSource();if("sam"===s){for(var i=e.data.rawdata,o=t.createBuffer(1,i.length,22050),r=o.getChannelData(0),l=0;l<i.length;l++)r[l]=i[l];a.buffer=o,console.log("returning sam"),n(t,a)}else t.decodeAudioData(e.data.rawdata,(function(e){a.buffer=e,console.log("returning espeak"),n(t,a)}),(function(e){console.log("error",e)}))}}),!1);var u=this.processOptions(a);p.postMessage({cmd:"speak",text:e,options:u})}},{key:"replacementsFor",value:function(e,t){return t.forEach((function(t){var a=t[0],n=t[1];e=e.replace(new RegExp(a,"gi"),n)})),e}},{key:"addProfile",value:function(e){["high","low","fast","slow"].forEach((function(t){if("default"!==t&&"name"!==t){var a=Object.assign({},e.default);for(var n in e[t])a[n]=e[t][n];e[t]=a}})),this.profiles[e.name]=e}},{key:"setProfile",value:function(e){return this.defaultProfile=e,this.profile=f.a[e],this}}]),t}(u.a);d.variants=["f1","f2","f3","f4","f5","m1","m2","m3","m4","m5","m6","m7","croak","klatt","klatt2","klatt3","whisper","whisperf"],d.profiles=f.a,d.languageIds={ca:"Catalan",cs:"Czech",de:"German",el:"Greek","en/en":"English","en/en-n":"English (N)","en/en-rp":"English (RP)","en/en-sc":"English (Scottish)","en/en-us":"English (US)","en/en-wm":"English (WM)",eo:"Esperanto",es:"Spanish","es-la":"Spanish (Latin America)",fi:"Finnish",fr:"French",hu:"Hungarian",it:"Italian",kn:"Kannada",la:"Latin",lv:"Latvian",nl:"Dutch",pl:"Polish",pt:"Portuguese (Brazil)","pt-pt":"Portuguese, European",ro:"Romanian",sk:"Slovak",sv:"Swedish",tr:"Turkish",zh:"Chinese (Mandarin)","zh-yue":"Chinese (Cantonese)"},d.getLanguageId=function(e){return e.indexOf("_")>-1&&(e=e.replace("_","-")),e.startsWith("en")&&-1===e.indexOf("/")&&(e="en/"+e),e},d.addProfile=function(e){for(var t in e)d.profiles[t]=e[t]},d.setWorkers=function(e){d.workers=e};var g=new c(new d);d.queue=g.queue.bind(g),d.clearQueue=g.clearQueue.bind(g),d.on=g.on.bind(g),d.once=g.once.bind(g);t.default=d}],[[11,1,2]]]);
//# sourceMappingURL=main.d35cd9d6.chunk.js.map