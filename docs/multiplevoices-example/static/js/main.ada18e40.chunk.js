(this["webpackJsonpmultiple-voices-example"]=this["webpackJsonpmultiple-voices-example"]||[]).push([[0],{1:function(e,t,i){e.exports=i(26)},15:function(e,t,i){"use strict";(function(e){var a=i(3),n=i(4),o=i(17),r=i(16),s=i(5),l=i(18),c=i(0),u=i.n(c),h=i(1),p=i.n(h);e.Say=p.a,p.a.setWorkers({espeak:"webworkers/espeak-all-worker.js",sam:"webworkers/sam-worker.js"});var d=function(t){function i(){var t;return Object(a.a)(this,i),(t=Object(o.a)(this,Object(r.a)(i).call(this))).redRef=u.a.createRef(),t.orangeRef=u.a.createRef(),t.yellowRef=u.a.createRef(),t.greenRef=u.a.createRef(),t.cyanRef=u.a.createRef(),t.blueRef=u.a.createRef(),t.purpleRef=u.a.createRef(),t.brownRef=u.a.createRef(),t.state={text:"",activeSpeakers:{red:!1,orange:!1,yellow:!1,green:!1,cyan:!1,blue:!1,purple:!1,brown:!1}},e.app=Object(s.a)(t),t}return Object(l.a)(i,t),Object(n.a)(i,[{key:"componentDidMount",value:function(){var e={red:"255,0,0",orange:"255,128,0",yellow:"255,255,0",green:"0,255,0",cyan:"0,255,255",blue:"0,0,255",purple:"255,0,255",brown:"150,75,0"},t=function(t){return{strokeColor:"rgb("+e[t]+")",clipColor:"black",fillColor:"rgba("+e[t]+",0.2)",dotColor:"rgb("+e[t]+")",bgOffColor:"#fafafa",bgOnColor:"#eee"}};this.scopes={red:new h.MonauralScope(this.redRef.current,t("red")),orange:new h.MonauralScope(this.orangeRef.current,t("orange")),yellow:new h.MonauralScope(this.yellowRef.current,t("yellow")),green:new h.MonauralScope(this.greenRef.current,t("green")),cyan:new h.MonauralScope(this.cyanRef.current,t("cyan")),blue:new h.MonauralScope(this.blueRef.current,t("blue")),purple:new h.MonauralScope(this.purpleRef.current,t("purple")),brown:new h.MonauralScope(this.brownRef.current,t("brown"))}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("h3",null,"Multiple Voices Example"),u.a.createElement("div",{id:"scopes"},u.a.createElement("div",{id:"red"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.red?" active":"")},"Jack"),u.a.createElement("canvas",{ref:this.redRef,width:"100",height:"100"})),u.a.createElement("div",{id:"orange"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.orange?" active":"")},"Scotty"),u.a.createElement("canvas",{ref:this.orangeRef,width:"100",height:"100"})),u.a.createElement("div",{id:"yellow"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.yellow?" active":"")},"Roy"),u.a.createElement("canvas",{ref:this.yellowRef,width:"100",height:"100"})),u.a.createElement("div",{id:"green"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.green?" active":"")},"Leon"),u.a.createElement("canvas",{ref:this.greenRef,width:"100",height:"100"})),u.a.createElement("div",{id:"cyan"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.cyan?" active":"")},"Robo"),u.a.createElement("canvas",{ref:this.cyanRef,width:"100",height:"100"})),u.a.createElement("div",{id:"blue"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.blue?" active":"")},"Zhora"),u.a.createElement("canvas",{ref:this.blueRef,width:"100",height:"100"})),u.a.createElement("div",{id:"purple"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.purple?" active":"")},"Cylon"),u.a.createElement("canvas",{ref:this.purpleRef,width:"100",height:"100"})),u.a.createElement("div",{id:"brown"},u.a.createElement("div",{className:"speakername"+(this.state.activeSpeakers.brown?" active":"")},"Borg"),u.a.createElement("canvas",{ref:this.brownRef,width:"100",height:"100"}))),u.a.createElement("div",{id:"controls"},u.a.createElement("button",{onClick:function(t){return e.introduceYourselves()}},"Introduce Yourselves"),u.a.createElement("button",{onClick:function(t){return e.clearQueue()}},"Stop")))}},{key:"clearQueue",value:function(){p.a.clearQueue()}},{key:"setActiveSpeaker",value:function(e,t){var i=this.state.activeSpeakers;i[e]=t,this.setState(i)}},{key:"introduceYourselves",value:function(){var e=this;p.a.once("finish",(function(){console.log("queue finished")})),p.a.queue({text:"hello, i am jack",scope:this.scopes.red,options:{profile:"Jack",language:"en"},onStart:function(){console.log("Jack saying: ",e.text),e.setActiveSpeaker("red",!0)},onStop:function(){console.log("Jack finished saying: ",e.text),e.setActiveSpeaker("red",!1)}}),p.a.queue({text:"aye this is scotty, gled to meet you",scope:this.scopes.orange,options:{profile:"Scotty",language:"en-sc"},onStart:function(){console.log("Scotty saying: ",e.text),e.setActiveSpeaker("orange",!0)},onStop:function(){console.log("Scotty finished saying: ",e.text),e.setActiveSpeaker("orange",!1)}}),p.a.queue({text:"this is roy, at your service",scope:this.scopes.yellow,options:{profile:"Roy",language:"en-wm"},onStart:function(){console.log("Roy saying: ",e.text),e.setActiveSpeaker("yellow",!0)},onStop:function(){console.log("Roy finished saying: ",e.text),e.setActiveSpeaker("yellow",!1)}}),p.a.queue({text:"hola, mi nombre es leon",scope:this.scopes.green,options:{profile:"Leon",language:"es"},onStart:function(){console.log("Leon saying: ",e.text),e.setActiveSpeaker("green",!0)},onStop:function(){console.log("Leon finished saying: ",e.text),e.setActiveSpeaker("green",!1)}}),p.a.queue({text:"greetings, i am robo",scope:this.scopes.cyan,options:{profile:"Robo"},onStart:function(){console.log("Robo saying: ",e.text),e.setActiveSpeaker("cyan",!0)},onStop:function(){console.log("Robo finished saying: ",e.text),e.setActiveSpeaker("cyan",!1)}}),p.a.queue({text:"bonjour. je m'appelle zhora",scope:this.scopes.blue,options:{profile:"Zhora",language:"fr"},onStart:function(){console.log("Zhora saying: ",e.text),e.setActiveSpeaker("blue",!0)},onStop:function(){console.log("Zhora finished saying: ",e.text),e.setActiveSpeaker("blue",!1)}}),p.a.queue({text:"we are the cylon",scope:this.scopes.purple,options:{profile:"Cylon",language:"en"},onStart:function(){console.log("Cylon aying: ",e.text),e.setActiveSpeaker("purple",!0)},onStop:function(){console.log("Cylon finished saying: ",e.text),e.setActiveSpeaker("purple",!1)}}),p.a.queue({text:"we are the borg",scope:this.scopes.brown,options:{profile:"Borg",language:"en"},onStart:function(){console.log("Borg aying: ",e.text),e.setActiveSpeaker("brown",!0)},onStop:function(){console.log("Borg finished saying: ",e.text),e.setActiveSpeaker("brown",!1)}})}}]),i}(c.Component);t.a=d}).call(this,i(25))},19:function(e,t,i){e.exports=i(34)},24:function(e,t,i){},26:function(e,t,i){var a=i(6),n=i(7),o=i(8),r=i(9),s=i(10),c=i(11),u=i(33),h=i(30),p=i(31),d=i(32);function f(){var e;if(window.AudioContext)e=new window.AudioContext;else{if(!window.webkitAudioContext)throw new Error("no AudioContext");console.log("creating webkitAudioContext"),e=new window.webkitAudioContext}return e}var g=function(e){"use strict";function t(e){var i;for(var n in a(this,t),e||(e={}),(i=o(this,r(t).call(this))).lang=null,i.profiles={},i.defaultProfile=null,p)i.addProfile(p[n]);return e.profile?i.setProfile(e.profile):i.setProfile("Jack"),"espeak"===i.profile.engine&&e.language&&i.setLanguage(e.language),i.lang||i.setLanguage("en_us"),e.visualizer&&i.setVisualizer(e.visualizer),i}return s(t,e),n(t,[{key:"setVisualizer",value:function(e){this.visualizer=e}},{key:"setLanguage",value:function(e){this.lang=t.getLanguageId(e)}},{key:"processOptions",value:function(e,i){i||(i={});var a=i.profile?i.profile:this.defaultProfile,n=this.profiles[a].default,o=Object.assign({},n);return i.slow&&(o.speed=this.profiles[a].slow.speed),i.fast&&(o.speed=this.profiles[a].fast.speed),i.low&&(o.pitch=this.profiles[a].low.pitch),i.high&&(o.pitch=this.profiles[a].high.pitch),"pitch"in i&&(o.pitch=i.pitch),"speed"in i&&(o.speed=i.speed),"wordgap"in i&&(o.wordgap=i.wordgap),"amplitude"in i&&(o.amplitude=i.amplitude),i.language?o.voice=t.getLanguageId(i.language):o.voice=this.lang,i.delay&&(o.delay=i.delay),i.replacements&&(o.replacementText=function(e,t){if("object"===typeof t){var i=function(i){var a="(?<=\\s|^)("+t[i]+")(?=\\s|$)";new RegExp(a,"i").test(e)&&(e=e.replace(new RegExp(a,"gi"),(function(e,t){return i})))};for(var a in t)i(a);return e}}(e,i.replacements)),o}},{key:"say",value:function(e,t){var i=this;return t=t||{},this.visualizer?new Promise((function(a){i.getWorkerAudioData(e,t,(function(e,t){i.visualizer.loadAudioData(e,t,a)}))})):new Promise((function(a){i.getWorkerAudioData(e,t,(function(e,i){if("Borg"===t.profile){var n=i.buffer,o=e.createGain();o.gain.setValueAtTime(1,0),o.gain.setValueAtTime(1,n.duration-.5),o.gain.linearRampToValueAtTime(1e-4,n.duration-.2),i.connect(o),o.connect(e.destination);var r=!1;setTimeout((function(){r||(r=!0,i.stop(),e.close(),a())}),1e3*n.duration-200),i.onended=function(){r||(r=!0,e.close(),a())},i.start(0)}else i.connect(e.destination),i.onended=function(){e.close(),a()},i.start(0)}))}))}},{key:"getWorkerAudioData",value:function(e,i,a){e=e.toLowerCase(),i||(i={});var n=i.profile||this.defaultProfile;if("Borg"===n)this.borgGetAudioData(e,i,a);else{n||(n="Jack");var o=this.profiles[n];if(!o)throw new Error("no profile: "+n);var r,s=o.engine;if("sam"===s)r=t.workers.sam;else if("espeak"===s)if("string"===typeof t.workers.espeak)r=t.workers.espeak;else if(t.workers.espeak.length){var c=i.language;c.startsWith("en-")&&(c="en/"+l);for(var u=0;u<t.workers.espeak.length;u++)if(t.workers.espeak[u].language===c){r=t.workers.espeak[u].path;break}}if(!r)throw new Error("no worker path for this language");var h=new Worker(r);h.addEventListener("message",(function(e){if(console.log("received from worker:",e.data),e.data.rawdata){var t=f();if(!t||!t.createBufferSource)return void console.log("no audioContext 2");var n=t.createBufferSource(),o=e.data.rawdata;if(i.rawAudioData)a(o);else if("sam"===s){for(var r=t.createBuffer(1,o.length,22050),l=r.getChannelData(0),c=0;c<o.length;c++)l[c]=o[c];n.buffer=r,console.log("returning sam"),a(t,n)}else t.decodeAudioData(o,(function(e){n.buffer=e,a(t,n)}),(function(e){console.log("error",e)}))}}),!1);var p=this.processOptions(e,i);h.postMessage({cmd:"speak",text:e,options:p})}}},{key:"addProfile",value:function(e){["high","low","fast","slow"].forEach((function(t){if("default"!==t&&"name"!==t){var i=Object.assign({},e.default);for(var a in e[t])i[a]=e[t][a];e[t]=i}})),this.profiles[e.name]=e}},{key:"setProfile",value:function(e){return this.defaultProfile=e,this.profile=p[e],this}},{key:"borgGetAudioData",value:function(e,t,i){var a=this;e+="....";var n=[],o=t&&t.language?t.language:this.lang,r=f();n.push((function(t){a.getWorkerAudioData(e,{profile:"Jack",language:o,speed:160,pitch:1,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),n.push((function(t){a.getWorkerAudioData(e,{profile:"Jack",language:o,speed:160,pitch:40,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),n.push((function(t){a.getWorkerAudioData(e,{profile:"Roy",language:o,speed:160,pitch:30,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),n.push((function(t){a.getWorkerAudioData(e,{profile:"Roy",language:o,speed:160,pitch:30,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),n.push((function(t){a.getWorkerAudioData(e,{profile:"Leon",language:o,speed:160,pitch:20,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),n.push((function(t){a.getWorkerAudioData(e,{profile:"Xenu",language:o,speed:166,pitch:5,rawAudioData:!0},(function(e){r.decodeAudioData(e,(function(i){t(null,[e,i])}))}))})),u.parallel(n,(function(e,t){if(t){var a=0,n=0,o=0;t.forEach((function(e){var t=e[1];a=Math.max(a,t.length),n=Math.max(n,t.duration),o=t.sampleRate}));var r=f(),s=r.createBuffer(2,o*n,o),l=!1;t.forEach((function(e){var t=e[1];if(l)for(var i=t.getChannelData(0),n=s.getChannelData(0),o=0;o<a;o++)o>n.length&&(n[o]=0),n[o]+=i[o];else for(var r=t.getChannelData(0),c=s.getChannelData(1),u=0;u<a;u++)u>r.length?c[u]=0:c[u]+=r[u];l=!l}));var c=r.createBufferSource();c.buffer=s,i(r,c)}}))}}]),t}(c);g.variants=["f1","f2","f3","f4","f5","m1","m2","m3","m4","m5","m6","m7","croak","klatt","klatt2","klatt3","whisper","whisperf"],g.profiles=p,g.languageIds={ca:"Catalan",cs:"Czech",de:"German",el:"Greek","en/en":"English","en/en-n":"English (N)","en/en-rp":"English (RP)","en/en-sc":"English (Scottish)","en/en-us":"English (US)","en/en-wm":"English (WM)",eo:"Esperanto",es:"Spanish","es-la":"Spanish (Latin America)",fi:"Finnish",fr:"French",hu:"Hungarian",it:"Italian",kn:"Kannada",la:"Latin",lv:"Latvian",nl:"Dutch",pl:"Polish",pt:"Portuguese (Brazil)","pt-pt":"Portuguese, European",ro:"Romanian",sk:"Slovak",sv:"Swedish",tr:"Turkish",zh:"Chinese (Mandarin)","zh-yue":"Chinese (Cantonese)"},g.getLanguageId=function(e){return e.indexOf("_")>-1&&(e=e.replace("_","-")),e.startsWith("en")&&-1===e.indexOf("/")&&(e="en/"+e),e},g.addProfile=function(e){for(var t in e)g.profiles[t]=e[t]},g.setWorkers=function(e){g.workers=e};var m=new h(new g);g.queue=m.queue.bind(m),g.clearQueue=m.clearQueue.bind(m),g.on=m.on.bind(m),g.once=m.once.bind(m),e.exports=g,e.exports.MonauralScope=d},30:function(e,t,i){var a=i(6),n=i(7),o=i(8),r=i(9),s=i(10),l=function(e){"use strict";function t(e){var i;return a(this,t),(i=o(this,r(t).call(this)))._queue=[],i.speaker=e,i}return s(t,e),n(t,[{key:"clearQueue",value:function(){this._queue=[]}},{key:"queue",value:function(e){this._queue.push(e),this._speakNext()}},{key:"_speakNext",value:function(){var e=this;if(!this.isSpeaking){var t=this._queue.shift();t?(this.isSpeaking=!0,this.speaker.getWorkerAudioData(t.text,t.options,(function(i,a){t.onStart&&t.onStart(t),t.scope.loadAudioData(i,a,(function(){t.onStop&&setTimeout((function(){t.onStop(t)}),1),e._onEnded()}))}))):this.emit("finish")}}},{key:"_onEnded",value:function(){this.isSpeaking=!1,this._speakNext()}}]),t}(i(11));e.exports=l},31:function(e,t){e.exports={Jack:{name:"Jack",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:10,speed:180,variant:"m2"},high:{pitch:50},low:{pitch:0},slow:{speed:120},fast:{speed:250}},Pris:{name:"Pris",phoneticName:"Priss",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:47,speed:130,variant:"f5"},high:{pitch:80},low:{pitch:20},slow:{speed:100},fast:{speed:200}},Roy:{name:"Roy",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:180,variant:"m1"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Scotty:{name:"Scotty",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:35,speed:200,variant:"m3"},high:{pitch:3},low:{pitch:5},slow:{speed:100},fast:{speed:230}},Xenu:{name:"Xenu",phoneticName:"zee-new",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"klatt3"},high:{pitch:65},low:{pitch:0},slow:{speed:100},fast:{speed:200}},Cylon:{name:"Cylon",engine:"espeak",default:{amplitude:100,wordgap:1,pitch:35,speed:170,variant:"whisperf"},high:{pitch:65,speed:150},low:{pitch:0,speed:140},slow:{pitch:20,speed:100,wordgap:1},fast:{speed:200,wordgap:0}},Leon:{name:"Leon",phoneticName:"Leeon",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:40,speed:150,variant:"m7"},high:{pitch:55},low:{pitch:5},slow:{speed:100},fast:{speed:200}},Rachel:{name:"Rachel",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f2"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Zhora:{name:"Zhora",engine:"espeak",default:{amplitude:100,wordgap:0,pitch:60,speed:150,variant:"f4"},high:{pitch:75},low:{pitch:40},slow:{speed:100},fast:{speed:200}},Borg:{name:"Borg",engine:"espeak",default:{}},Sam:{name:"Sam",engine:"sam",default:{speed:64,pitch:64,throat:128,mouth:128},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Elf:{name:"Elf",engine:"sam",default:{speed:72,pitch:64,throat:110,mouth:160},high:{pitch:50},low:{pitch:110},slow:{speed:100},fast:{speed:40}},Robo:{name:"Robo",engine:"sam",default:{speed:82,pitch:60,throat:190,mouth:190},high:{pitch:40},low:{pitch:100},slow:{speed:120},fast:{speed:50}},Granny:{name:"Granny",engine:"sam",default:{speed:82,pitch:35,throat:145,mouth:145},high:{pitch:25},low:{pitch:120},slow:{speed:130},fast:{speed:40}}}},32:function(e,t,i){var a=i(6),n=i(7),o=i(8),r=i(9),s=i(13),l=i(10),c=function(e){"use strict";function t(e,i){var n;return a(this,t),i||(i={}),(n=o(this,r(t).call(this))).canvas=e,n.width=n.canvas.width,n.height=n.canvas.height,n.audioContext=null,n.meter=null,n.mediaStreamSource=null,n._draw=n.draw.bind(s(n)),n.isRecording=!1,n.setTheme({lineWidth:i.lineWidth||3,strokeColor:i.strokeColor||"#FF0000",clipColor:i.clipColor||i.strokeColor||"#FF0000",fillColor:i.fillColor||"rgba(255,0,0,0.1)",bgOnColor:i.bgOnColor||null,bgOffColor:i.bgOffColor||null,dotColor:i.dotColor||"#FF0000",dotSize:i.dotSize||3,background:i.background||null}),n}return l(t,e),n(t,[{key:"setTheme",value:function(e){this.theme=e,this.draw()}},{key:"createAudioMeter",value:function(e,t,i,a){var n=e.createScriptProcessor(512);return n.onaudioprocess=function(e){for(var t,i=e.inputBuffer.getChannelData(0),a=i.length,n=0,o=0;o<a;o++)t=i[o],Math.abs(t)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),n+=t*t;var r=Math.sqrt(n/a);this.volume=Math.max(r,this.volume*this.averaging),this.maxVolume||(this.maxVolume=this.volume),this.maxVolume=Math.max(this.volume,this.maxVolume)},n.clipping=!1,n.lastClip=0,n.volume=0,n.clipLevel=t||.99,n.averaging=i||.97,n.clipLag=a||500,n.connect(e.destination),n.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},n.shutdown=function(){this.disconnect(),this.onaudioprocess=null},n}},{key:"setIsRecording",value:function(e){this.isRecording!==e?(this.isRecording=e,e?this.startRecording():this.stopRecording()):console.log("same")}},{key:"stopRecording",value:function(){this.isRecording&&(this.mediaStreamSource&&this.meter&&this.mediaStreamSource.disconnect(this.meter),this.meter&&this.meter.shutdown(),this.audioContext&&this.audioContext.close()),this.isRecording=!1,this.isDrawing=!1}},{key:"requestMic",value:function(){var e=this;this.startRecording((function(){e.stopRecording()}),(function(){e.stopRecording()}))}},{key:"startRecording",value:function(e,t){var i=this;if(this.isRecording)console.log("already recording");else{console.log("startRecording"),this.isRecording=!0;var a=new(window.AudioContext||window.webkitAudioContext);this.audioContext=a;var n=function(n){if(console.log("startRecording success"),i.audioContext)try{i.mediaStreamSource=a.createMediaStreamSource(n),i.meter=i.createAudioMeter(a),i.mediaStreamSource.connect(i.meter),i.startDrawing(),e&&e()}catch(o){t&&t()}},o=function(e){console.log("startRecording fail"),t&&t()};try{if(navigator.getUserMedia)navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},n,o);else{if(!navigator.mediaDevices.getUserMedia)throw new Error("no getUserMedia");navigator.mediaDevices.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},n,o)}}catch(r){alert("getUserMedia threw exception :"+r)}}}},{key:"loadAudioData",value:function(e,t,i){var a=this;this.audioContext=e,this.source=t,t.connect(e.destination);var n=this.createAudioMeter(e);this.meter=n,t.connect(this.meter),t.onended=function(){a.isPlaying=!1,t.disconnect(),delete t.buffer,t.stop(),a.stopDrawing(),e.close(),i&&i()},this.isPlaying=!0,this.startDrawing(),t.start(0)}},{key:"startDrawing",value:function(){this.isDrawing=!0,this.draw()}},{key:"stopDrawing",value:function(){this.meter.volume=0,this.draw(),this.isDrawing=!1}},{key:"draw",value:function(){if(this.canvas){var e=this.canvas.getContext("2d");if(this.theme.background?(e.fillStyle=this.theme.background,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height),this.theme.bgOnColor||this.theme.bgOffColor){var t=Math.min(this.width,this.height)/2-e.lineWidth;e.beginPath(),e.arc(this.width/2,this.height/2,t,0,2*Math.PI,!1),e.fillStyle=this.isPlaying||this.isRecording?this.theme.bgOnColor:this.theme.bgOffColor,e.fill(),e.closePath()}if(e.lineWidth=this.theme.lineWidth,this.theme.dotSize){var i=this.theme.dotSize;e.beginPath(),e.arc(this.width/2,this.height/2,i,0,2*Math.PI,!1),e.fillStyle=this.theme.dotColor,e.fill(),e.closePath()}if(this.isRecording||this.isDrawing){if(!this.meter)return void console.error("no meter");e.strokeStyle=this.meter.checkClipping()?this.theme.clipColor:this.theme.strokeColor;var a=Math.min(this.width,this.height)/2-e.lineWidth,n=this.meter.volume*a*5;n>this.width/2-this.theme.lineWidth&&(n=this.width/2-this.theme.lineWidth),e.beginPath(),e.arc(this.width/2,this.height/2,n,0,2*Math.PI,!1),this.theme.fillColor&&(e.fillStyle=this.theme.fillColor,e.fill()),e.stroke(),e.closePath(),this.isDrawing&&window.requestAnimationFrame(this._draw)}else console.log("not drawing")}else console.log("no canvas")}}]),t}(i(11));e.exports=c},34:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a),o=i(14),r=i.n(o),s=(i(24),i(15));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(s.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.ada18e40.chunk.js.map